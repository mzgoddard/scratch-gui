{"version":3,"file":"gui.js","sources":["webpack://GUI/src/playground/index.jsx","webpack://GUI/./src/playground/index.css","webpack://GUI/./src/playground/index.css?6c88","webpack://GUI/./src/components/crash-message/reload.svg","webpack://GUI/./src/components/crash-message/crash-message.css","webpack://GUI/./src/components/crash-message/crash-message.css?49ed","webpack://GUI/src/components/crash-message/crash-message.jsx","webpack://GUI/src/containers/error-boundary.jsx","webpack://GUI/src/playground/error-boundary-hoc.jsx"],"sourcesContent":["import 'es6-object-assign/auto';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\n\nimport analytics from '../lib/analytics';\nimport GUI from '../containers/gui.jsx';\nimport ErrorBoundaryHOC from './error-boundary-hoc.jsx';\n\nimport styles from './index.css';\n\nif (process.env.NODE_ENV === 'production' && typeof window === 'object') {\n    // Warn before navigating away\n    window.onbeforeunload = () => true;\n}\n\n// Register \"base\" page view\nanalytics.pageview('/');\n\nconst App = ErrorBoundaryHOC(GUI);\n\nconst appTarget = document.createElement('div');\nappTarget.className = styles.app;\ndocument.body.appendChild(appTarget);\n\nModal.setAppElement(appTarget);\n\nReactDOM.render(<App />, appTarget);\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html,\\nbody,\\n.index_app_3Qs6X {\\n    /* probably unecessary, transitional until layout is refactored */\\n    width: 100%; \\n    height: 100%;\\n    margin: 0;\\n}\\n\\n/* @todo: move globally? Safe / side FX, for blocks particularly? */\\n\\n* { -webkit-box-sizing: border-box; box-sizing: border-box; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"app\": \"index_app_3Qs6X\"\n};","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--7-1!../../node_modules/postcss-loader/lib/index.js??postcss!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--7-1!../../node_modules/postcss-loader/lib/index.js??postcss!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--7-1!../../node_modules/postcss-loader/lib/index.js??postcss!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"static/assets/dd98971c2c185caf86144b6b5234d0fa.svg\";","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* #4C97FF */ /* #3373CC */ /* 35% transparent version of motion-primary */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* layout contants from `layout-constants.js` */ body {\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n} h2 {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n} p {\\n    font-size: 1rem;\\n    line-height: 1.5em;\\n} .crash-message_crash-wrapper_25B61 {\\n    background-color: hsla(215, 100%, 65%, 1);\\n    width: 100%;\\n    height: 100%;\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n    -webkit-justify-content: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n} .crash-message_body_1q0lu {\\n    width: 35%;\\n    color: white;\\n    text-align: center;\\n} .crash-message_reloadButton_FoS7x {\\n    border: 1px solid hsla(215, 100%, 65%, 1);\\n    border-radius: 0.25rem;\\n    padding: 0.5rem 2rem;\\n    background: white;\\n    color: hsla(215, 100%, 65%, 1);\\n    font-weight: bold;\\n    font-size: 0.875rem;\\n    cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"crash-wrapper\": \"crash-message_crash-wrapper_25B61\",\n\t\"crashWrapper\": \"crash-message_crash-wrapper_25B61\",\n\t\"body\": \"crash-message_body_1q0lu\",\n\t\"reloadButton\": \"crash-message_reloadButton_FoS7x\"\n};","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Box from '../box/box.jsx';\n\nimport styles from './crash-message.css';\nimport reloadIcon from './reload.svg';\n\nconst CrashMessage = props => (\n    <div className={styles.crashWrapper}>\n        <Box className={styles.body}>\n            <img\n                className={styles.reloadIcon}\n                src={reloadIcon}\n            />\n            <h2>\n                Oops! Something went wrong.\n            </h2>\n            <p>\n                We are so sorry, but it looks like Scratch has crashed. This bug has been\n                automatically reported to the Scratch Team. Please refresh your page to try\n                again.\n\n            </p>\n            <button\n                className={styles.reloadButton}\n                onClick={props.onReload}\n            >\n                Reload\n            </button>\n        </Box>\n    </div>\n);\n\nCrashMessage.propTypes = {\n    onReload: PropTypes.func.isRequired\n};\n\nexport default CrashMessage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport platform from 'platform';\nimport BrowserModalComponent from '../components/browser-modal/browser-modal.jsx';\nimport CrashMessageComponent from '../components/crash-message/crash-message.jsx';\nimport log from '../lib/log.js';\nimport analytics from '../lib/analytics';\n\nclass ErrorBoundary extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            hasError: false\n        };\n    }\n\n    componentDidCatch (error, info) {\n        // Display fallback UI\n        this.setState({hasError: true});\n        log.error(`Unhandled Error: ${error.stack}\\nComponent stack: ${info.componentStack}`);\n        analytics.event({\n            category: 'error',\n            action: 'Fatal Error',\n            label: error.message\n        });\n    }\n\n    handleBack () {\n        window.history.back();\n    }\n\n    handleReload () {\n        window.location.replace(window.location.origin + window.location.pathname);\n    }\n\n    render () {\n        if (this.state.hasError) {\n            // don't use array.includes because that's something that causes IE to crash.\n            if (\n                platform.name === 'IE' ||\n                platform.name === 'Opera' ||\n                platform.name === 'Opera Mini' ||\n                platform.name === 'Silk') {\n                return <BrowserModalComponent onBack={this.handleBack} />;\n            }\n            return <CrashMessageComponent onReload={this.handleReload} />;\n        }\n        return this.props.children;\n    }\n}\n\nErrorBoundary.propTypes = {\n    children: PropTypes.node\n};\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport ErrorBoundary from '../containers/error-boundary.jsx';\n\n/*\n * Higher Order Component to provide error boundary for wrapped component\n * @param {React.Component} WrappedComponent - component to provide state for\n * @returns {React.Component} component with error boundary\n */\nconst ErrorBoundaryHOC = function (WrappedComponent) {\n    const ErrorBoundaryWrapper = props => (\n        <ErrorBoundary>\n            <WrappedComponent {...props} />\n        </ErrorBoundary>\n    );\n    return ErrorBoundaryWrapper;\n};\n\nexport default ErrorBoundaryHOC;\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;;;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAdA;AADA;AADA;AACA;AAyBA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;;;;;ACrCA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;AAxCA;AACA;AA0CA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;;;ACvDA;AACA;;;AAAA;AACA;;;;;AACA;;;;;AAKA;AACA;AAAA;AACA;AAAA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;;;;A","sourceRoot":""}